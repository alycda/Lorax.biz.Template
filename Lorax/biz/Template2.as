/** * Template * Created for 	Lorax.biz * * @author		Alyssa Davis // hello@alyda.me * @version		0.00.02 * @updated		4.10.13 */ package Lorax.biz {		import flash.display.*;	import flash.text.*;	import flash.events.*;	import flash.net.*;		public class Template2 extends MovieClip {				var closeBTN:SimpleButton = btn(sprite('close',25,25));		var _xml:XML;		var xmlList:XMLList;				public function Template2() {			//Fullscreen exit btn			addChild(closeBTN);			closeBTN.addEventListener(MouseEvent.CLICK, exit);						//Fullscreen			fullscreen();						//Load XML			load('settings.xml');		}				//button		function btn(_sprite:Sprite):SimpleButton {			var _btn:SimpleButton = new SimpleButton()						_btn.name = _sprite.name+'BTN';						var _btnOver = _sprite			_btn.overState = _btnOver;			_btn.hitTestState = _btnOver;						_btn.useHandCursor = true;			//mousechildren?									return _btn;		}				//sprite		function sprite(_name:String,_w:Number=100,_h:Number=100,_alpha:Number=1.0,_color=0x000000):Sprite {			var _sprite:Sprite = new Sprite();			_sprite.name = _name;			_sprite.graphics.beginFill(_color);			_sprite.graphics.drawRect(0, 0, _w, _h);			_sprite.graphics.endFill();						_sprite.alpha = _alpha;			return _sprite;		}				function xml(e:Event):void {			_xml = new XML(e.target.data); 			xmlList = new XMLList(_xml.Menu);			trace('settings loaded...');		}				function io_error(errorEvent:IOErrorEvent) {			trace('ERROR: file not found?');		}				function load(_file:String):void {			var loader:URLLoader = new URLLoader();			loader.load(new URLRequest(_file));			loader.addEventListener(Event.COMPLETE, xml);			loader.addEventListener(IOErrorEvent.IO_ERROR, io_error);		}				function exit(e:MouseEvent):void {			try {                stage.displayState = StageDisplayState.NORMAL;				closeBTN.x = stage.stageWidth - 25;				//closeBTN.removeEventListener(MouseEvent.CLICK, exit);            } catch (error:SecurityError) {				trace('error, not in fullscreen mode');            }		}				function fullscreen():void {			try {                stage.displayState = StageDisplayState.FULL_SCREEN;				closeBTN.x = stage.stageWidth - 25;				//closeBTN.addEventListener(MouseEvent.CLICK, exit);            } catch (error:SecurityError) {				trace('Must be in projector mode for full screen viewing');            }			}	}	}